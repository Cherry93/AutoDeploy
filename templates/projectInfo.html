{% extends "index.html" %}
{% block title %}ProjectInfo{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block logo %}
    AutoDeploy－发布部署平台
{% endblock %}
{% block header %}
    {{ super() }}
{% endblock %}

{% block black %}
    <script type="text/javascript" src="{{ url_for('static', filename='layui/layui.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='jQuery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='layui/layui.all.js') }}"></script>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <ul class="layui-nav layui-nav-tree" lay-filter="test">
                {% for k,v in projectdicts.iteritems() %}
                        <li class="layui-nav-item layui-nav-itemed">
                            <a href="javascript:;">{{ k }}</a>
                            <dl class="layui-nav-child">
                                {% for project in v %}
                                    <dd><a href="/api/project/info/{{ project.id }}" target="option">{{ project.name }}</a></dd>
                                {% endfor %}
                            </dl>
                        </li>
                {% endfor %}
             </ul>
        </div>
    </div>
{% endblock %}

{% block page %}

     <div class="layui-form">
      <table class="layui-table" lay-size="lg">
        <thead>
          <tr>
            <th>host_ip</th>
          </tr>
        </thead>
        <tbody>
            {% for host in hosts %}
                <tr>
                     <td>{{ host.host_ip }}</td>
                </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>

    <div>
        <table class="layui-table" lay-size="lg">
        <thead>
          <tr>
            <th>repo_url</th>
          </tr>
        </thead>
        <tbody>
            <tr>
                 <td>{{ project.repo_url }}</td>
            </tr>
        </tbody>
      </table>
    </div>

    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
  <legend>开发部署工作：</legend>
</fieldset>

<form class="layui-form" action="">

  <div class="layui-form-item">
    <label class="layui-form-label">单行选择框</label>
    <div class="layui-input-block">
      <select name="interest" lay-filter="aihao">
        <option value=""></option>
        <option value="0">写作</option>
        <option value="1" selected="">阅读</option>
        <option value="2">游戏</option>
        <option value="3">音乐</option>
        <option value="4">旅行</option>
      </select>
    </div>
  </div>

    <div class="layui-inline">
      <label class="layui-form-label">搜索选择框</label>
      <div class="layui-input-inline">
        <select name="modules" lay-verify="required" lay-search="">
          <option value="">直接选择或搜索选择</option>
          <option value="1">layer</option>
          <option value="2">form</option>
          <option value="3">layim</option>
          <option value="4">element</option>
          <option value="5">laytpl</option>
          <option value="6">upload</option>
          <option value="7">laydate</option>
          <option value="8">laypage</option>
          <option value="9">flow</option>
          <option value="10">util</option>
          <option value="11">code</option>
          <option value="12">tree</option>
          <option value="13">layedit</option>
          <option value="14">nav</option>
          <option value="15">tab</option>
          <option value="16">table</option>
          <option value="17">select</option>
          <option value="18">checkbox</option>
          <option value="19">switch</option>
          <option value="20">radio</option>
        </select>
      </div>
    </div>

    <br><br>
    <div class="layui-form-item">
        <div class="layui-input-block">
          <button class="layui-btn" lay-submit="" lay-filter="demo1">立即发布</button>
          <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            <button class="layui-btn layui-btn-danger">回滚</button>
        </div>
    </div>



</form>
<script>
layui.use(['form', 'layedit', 'laydate'], function(){
    var form = layui.form
  ,layer = layui.layer
  ,layedit = layui.layedit
  ,laydate = layui.laydate;

  //日期
  laydate.render({
    elem: '#date'
  });
  laydate.render({
    elem: '#date1'
  });

  //创建一个编辑器
  var editIndex = layedit.build('LAY_demo_editor');

  //自定义验证规则
  form.verify({
    title: function(value){
      if(value.length < 5){
        return '标题至少得5个字符啊';
      }
    }
    ,pass: [
      /^[\S]{6,12}$/
      ,'密码必须6到12位，且不能出现空格'
    ]
    ,content: function(value){
      layedit.sync(editIndex);
    }
  });


  //监听提交
  form.on('submit(demo1)', function(data){
    layer.alert(JSON.stringify(data.field), {
      title: '最终的提交信息'
    })
    return false;
  });

  //表单初始赋值
  form.val('example', {
    "username": "贤心" // "name": "value"
    ,"password": "123456"
    ,"interest": 1
    ,"like[write]": true //复选框选中状态
    ,"close": true //开关状态
    ,"sex": "女"
    ,"desc": "我爱 layui"
  })
  form.render();

});
</script>

{% endblock %}
{% block body %}
    {{ super() }}
{% endblock %}