{% extends "index.html" %}
{% block title %}Host{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block header %}
    {{ super() }}
{% endblock %}
{% block black %}
    {{ super() }}
{% endblock %}

{% block page %}
    <table class="layui-table" lay-data="{width: 1000, height:332, url:'/admin/host/all', page:true, id:'idTest'}" lay-filter="demo">
  <thead>
    <tr>
      <th lay-data="{field:'id', width:50, sort: true,}">ID</th>
      <th lay-data="{field:'host_ip', width:200}">host_ip</th>
      <th lay-data="{field:'ssh_username', width:200, sort: true}">ssh_username</th>
      <th lay-data="{field:'ssh_password', width:200}">ssh_password</th>
      <th lay-data="{ width:400, align:'center', toolbar: '#barDemo'}">action</th>
    </tr>
  </thead>
</table>

<script type="text/html" id="barDemo">
  <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>


<script src="../static/layui/layui.all.js" charset="utf-8"></script>
<script src="../static/layui/lay/modules/table.js" charset="utf-8"></script>

<script>
layui.use('table', function(){
  var table = layui.table;
  //监听工具条
  table.on('tool(demo)', function(obj){
      console.log(obj)
    var data = obj.data;
    if(obj.event === 'detail'){
      layer.msg('ID：'+ data.id + ' 的查看操作');
    } else if(obj.event === 'del'){
      layer.confirm('真的删除行么', function(index){
        obj.del();
        layer.close(index);
      });
    } else if(obj.event === 'edit'){
      layer.alert('编辑行：<br>'+ JSON.stringify(data))
    }
  });
});
</script>
{% endblock %}

{% block body %}
    {{ super() }}
{% endblock %}